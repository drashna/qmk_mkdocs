
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://drashna.github.io/qmk_mkdocs/testing/zh/feature_key_overrides/">
      
      <link rel="icon" href="../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.4">
    
    
      
        <title>Key Overrides - QMK Firmware Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bb3983ee.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Varela+Round:300,400,400i,700%7CSource+Code+Pro&display=fallback">
        <style>:root{--md-text-font:"Varela Round";--md-code-font:"Source Code Pro"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/qmk.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="light-blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#key-overrides" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href=".." title="QMK Firmware Docs" class="md-header__button md-logo" aria-label="QMK Firmware Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            QMK Firmware Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Key Overrides
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/qmk/qmk_firmware/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    qmk/qmk_firmware
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="QMK Firmware Docs" class="md-nav__button md-logo" aria-label="QMK Firmware Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    QMK Firmware Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/qmk/qmk_firmware/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    qmk/qmk_firmware
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" data-md-state="indeterminate" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          完全菜鸟指南
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="完全菜鸟指南" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          完全菜鸟指南
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial.md" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../newbs_getting_started/" class="md-nav__link">
        入门
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../newbs_building_firmware/" class="md-nav__link">
        构建你的第一个固件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../newbs_flashing/" class="md-nav__link">
        刷新固件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../newbs_testing_debugging/" class="md-nav__link">
        测试和调试
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6" data-md-state="indeterminate" type="checkbox" id="__nav_2_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_6">
          Git最佳实践
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Git最佳实践" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_6">
          <span class="md-nav__icon md-icon"></span>
          Git最佳实践
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../newbs_git_using_your_master_branch/" class="md-nav__link">
        使用你分叉(fork)的主分支(master)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../newbs_git_resolving_merge_conflicts/" class="md-nav__link">
        解决合并冲突
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../newbs_git_resynchronize_a_branch/" class="md-nav__link">
        重新同步一个分支
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../newbs_learn_more_resources/" class="md-nav__link">
        学习资源
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" data-md-state="indeterminate" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          QMK基础
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="QMK基础" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          QMK基础
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial.md" class="md-nav__link">
        QMK简介
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        QMK命令行工具
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli_configuration/" class="md-nav__link">
        QMK命令行工具配置
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        向QMK贡献代码
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started_github/" class="md-nav__link">
        如何使用GitHub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../support/" class="md-nav__link">
        获得帮助
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" data-md-state="indeterminate" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          非兼容性修改
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="非兼容性修改" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          非兼容性修改
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../breaking_changes/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../breaking_changes_instructions/" class="md-nav__link">
        我的PR已经被标记为非兼容性修改
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ChangeLog/20190830/" class="md-nav__link">
        2019年8月30日
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" data-md-state="indeterminate" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          问题与解答
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="问题与解答" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          问题与解答
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq_general/" class="md-nav__link">
        一般问题
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq_build/" class="md-nav__link">
        构建/编译
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq_debug/" class="md-nav__link">
        调试/故障排除
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq_keymap/" class="md-nav__link">
        布局
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../driver_installation_zadig/" class="md-nav__link">
        Zadig驱动安装
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" data-md-state="indeterminate" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          详细指南
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="详细指南" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          详细指南
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../newbs_getting_started/" class="md-nav__link">
        安装构建工具
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started_vagrant/" class="md-nav__link">
        vagrant指南
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started_make_guide/" class="md-nav__link">
        构建/编译指南
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flashing/" class="md-nav__link">
        刷新固件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../custom_quantum_functions/" class="md-nav__link">
        定制功能
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../keymap/" class="md-nav__link">
        布局概述
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" data-md-state="indeterminate" type="checkbox" id="__nav_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          硬件
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="硬件" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          硬件
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../compatible_microcontrollers/" class="md-nav__link">
        兼容的单片机
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hardware_avr/" class="md-nav__link">
        AVR处理器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hardware_drivers/" class="md-nav__link">
        驱动
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" data-md-state="indeterminate" type="checkbox" id="__nav_8" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          参考
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="参考" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          参考
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hardware_keyboard_guidelines/" class="md-nav__link">
        键盘指南
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config_options/" class="md-nav__link">
        配置选项
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../keycodes/" class="md-nav__link">
        键码
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../coding_conventions_c/" class="md-nav__link">
        代码书写规范 - C
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../coding_conventions_python/" class="md-nav__link">
        代码书写规范 - Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_best_practices/" class="md-nav__link">
        文档书写规范
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_templates/" class="md-nav__link">
        文档模板
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference_glossary/" class="md-nav__link">
        术语表
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../unit_testing/" class="md-nav__link">
        单元测试
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ref_functions/" class="md-nav__link">
        实用函数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference_configurator_support/" class="md-nav__link">
        配置器支持
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference_info_json/" class="md-nav__link">
        info.json 格式
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli_development/" class="md-nav__link">
        Python 命令行开发
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" data-md-state="indeterminate" type="checkbox" id="__nav_9" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          特性
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="特性" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          特性
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../keycodes_basic/" class="md-nav__link">
        基本键码
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../keycodes_us_ansi_shifted/" class="md-nav__link">
        US ANSI控制码
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../quantum_keycodes/" class="md-nav__link">
        量子键码
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_advanced_keycodes/" class="md-nav__link">
        高级键码
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_audio/" class="md-nav__link">
        音频
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_auto_shift/" class="md-nav__link">
        自动shift
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_backlight/" class="md-nav__link">
        背光
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_bluetooth/" class="md-nav__link">
        蓝牙
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_bootmagic/" class="md-nav__link">
        热改键
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_combo/" class="md-nav__link">
        组合
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_command/" class="md-nav__link">
        命令
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_debounce_type/" class="md-nav__link">
        消抖 API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_dip_switch/" class="md-nav__link">
        拨动开关
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_dynamic_macros/" class="md-nav__link">
        动态宏指令
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_encoders/" class="md-nav__link">
        编码器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_grave_esc/" class="md-nav__link">
        重音号Esc复合键
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_haptic_feedback/" class="md-nav__link">
        触摸反馈
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_hd44780/" class="md-nav__link">
        HD44780 LCD控制器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_key_lock/" class="md-nav__link">
        自锁键
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_layouts/" class="md-nav__link">
        布局
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_leader_key/" class="md-nav__link">
        前导键
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_led_matrix/" class="md-nav__link">
        LED阵列
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_macros/" class="md-nav__link">
        宏指令
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_mouse_keys/" class="md-nav__link">
        鼠标键
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_oled_driver/" class="md-nav__link">
        OLED驱动
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../one_shot_keys/" class="md-nav__link">
        一键功能
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_pointing_device/" class="md-nav__link">
        指针设备
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_ps2_mouse/" class="md-nav__link">
        PS/2鼠标
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_rgblight/" class="md-nav__link">
        RGB灯光
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_rgb_matrix/" class="md-nav__link">
        RGB矩阵
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_space_cadet/" class="md-nav__link">
        空格候补换挡
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_split_keyboard/" class="md-nav__link">
        分体键盘
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_stenography/" class="md-nav__link">
        速录机
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_swap_hands/" class="md-nav__link">
        换手
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_tap_dance/" class="md-nav__link">
        多击键
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_terminal/" class="md-nav__link">
        终端
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_thermal_printer/" class="md-nav__link">
        热敏打印机
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_unicode/" class="md-nav__link">
        Unicode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_userspace/" class="md-nav__link">
        用户空间
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_velocikey/" class="md-nav__link">
        速度键
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" data-md-state="indeterminate" type="checkbox" id="__nav_10" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          制造和定制者指南
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="制造和定制者指南" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          制造和定制者指南
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hand_wire/" class="md-nav__link">
        手工连线指南
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../isp_flashing_guide/" class="md-nav__link">
        ISP刷新指南
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../arm_debugging/" class="md-nav__link">
        ARM调试指南
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adc_driver/" class="md-nav__link">
        ADC设备
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../i2c_driver/" class="md-nav__link">
        I2C设备
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../spi_driver/" class="md-nav__link">
        SPI设备
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ws2812_driver/" class="md-nav__link">
        WS2812设备
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../eeprom_driver/" class="md-nav__link">
        EEPROM设备
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../internals_gpio_control/" class="md-nav__link">
        GPIO控制
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../custom_matrix/" class="md-nav__link">
        自定义键盘矩阵
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../proton_c_conversion/" class="md-nav__link">
        Proton C转换
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" data-md-state="indeterminate" type="checkbox" id="__nav_11" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          深入了解
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="深入了解" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          深入了解
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how_keyboards_work/" class="md-nav__link">
        键盘工作原理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../understanding_qmk/" class="md-nav__link">
        深入了解QMK
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" data-md-state="indeterminate" type="checkbox" id="__nav_12" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          其他话题
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="其他话题" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          其他话题
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../other_eclipse/" class="md-nav__link">
        使用Eclipse开发QMK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../other_vscode/" class="md-nav__link">
        使用VSCode开发QMK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../support/" class="md-nav__link">
        支持
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../translating/" class="md-nav__link">
        翻译QMK文档
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13" data-md-state="indeterminate" type="checkbox" id="__nav_13" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_13">
          QMK 内构 (正在编写)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="QMK 内构 (正在编写)" data-md-level="1">
        <label class="md-nav__title" for="__nav_13">
          <span class="md-nav__icon md-icon"></span>
          QMK 内构 (正在编写)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../internals_defines/" class="md-nav__link">
        定义
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../internals_input_callback_reg/" class="md-nav__link">
        输入回调寄存器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../internals_midi_device/" class="md-nav__link">
        Midi设备
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../internals_midi_device_setup_process/" class="md-nav__link">
        Midi设备配置过程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../internals_midi_util/" class="md-nav__link">
        Midi工具库
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../internals_send_functions/" class="md-nav__link">
        发送函数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../internals_sysex_tools/" class="md-nav__link">
        Sysex工具
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-key-overrides" class="md-nav__link">
    Creating Key Overrides
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simple-example" class="md-nav__link">
    Simple Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#intermediate-difficulty-examples" class="md-nav__link">
    Intermediate Difficulty Examples
  </a>
  
    <nav class="md-nav" aria-label="Intermediate Difficulty Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#media-controls-screen-brightness" class="md-nav__link">
    Media Controls &amp; Screen Brightness
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flexible-macos-friendly-grave-escape" class="md-nav__link">
    Flexible macOS-friendly Grave Escape
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-examples" class="md-nav__link">
    Advanced Examples
  </a>
  
    <nav class="md-nav" aria-label="Advanced Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modifiers-as-layer-keys" class="md-nav__link">
    Modifiers as Layer Keys
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keycodes" class="md-nav__link">
    Keycodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-for-key_override_t" class="md-nav__link">
    Reference for key_override_t
  </a>
  
    <nav class="md-nav" aria-label="Reference for key_override_t">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reference-for-ko_option_t" class="md-nav__link">
    Reference for ko_option_t
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#for-advanced-users-inner-workings" class="md-nav__link">
    For Advanced Users: Inner Workings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#difference-to-combos" class="md-nav__link">
    Difference to Combos
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/qmk/qmk_firmware/edit/master/docs/feature_key_overrides.md" title="编辑此页" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>


<h1 id="key-overrides">Key Overrides<a class="headerlink" href="#key-overrides" title="Permanent link">&para;</a></h1>
<p>Key overrides allow you to override modifier-key combinations to send a different modifier-key combination or perform completely custom actions. Don't want <code>shift</code> + <code>1</code> to type <code>!</code> on your computer? Use a key override to make your keyboard type something different when you press <code>shift</code> + <code>1</code>. The general behavior is like this: If <code>modifiers w</code> + <code>key x</code> are pressed, replace these keys with <code>modifiers y</code> + <code>key z</code> in the keyboard report.</p>
<p>You can use key overrides in a similar way to momentary layer/fn keys to activate custom keycodes/shortcuts, with a number of benefits: You completely keep the original use of the modifier keys, while being able to save space by removing fn keys from your keyboard. You can also easily configure <em>combinations of modifiers</em> to trigger different actions than individual modifiers, and much more. The possibilities are quite vast and this documentation contains a few examples for inspiration throughout.</p>
<h5 id="a-few-more-examples-to-get-started-you-could-use-key-overrides-to">A few more examples to get started: You could use key overrides to...<a class="headerlink" href="#a-few-more-examples-to-get-started-you-could-use-key-overrides-to" title="Permanent link">&para;</a></h5>
<ul>
<li>Send <code>brightness up/down</code> when pressing <code>ctrl</code> + <code>volume up/down</code>.</li>
<li>Send <code>delete</code> when pressing <code>shift</code> + <code>backspace</code>.</li>
<li>Create custom shortcuts or change existing ones: E.g. Send <code>ctrl</code>+<code>shift</code>+<code>z</code> when <code>ctrl</code>+<code>y</code> is pressed.</li>
<li>Run custom code when <code>ctrl</code> + <code>alt</code> + <code>esc</code> is pressed.</li>
</ul>
<h2 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">&para;</a></h2>
<p>To enable this feature, you need to add <code>KEY_OVERRIDE_ENABLE = yes</code> to your <code>rules.mk</code>.</p>
<p>Then, in your <code>keymap.c</code> file, you'll need to define the array <code>key_overrides</code>, which defines all key overrides to be used. Each override is a value of type <code>key_override_t</code>. The array <code>key_overrides</code> is <code>NULL</code>-terminated and contains pointers to <code>key_override_t</code> values (<code>const key_override_t **</code>).</p>
<h2 id="creating-key-overrides">Creating Key Overrides<a class="headerlink" href="#creating-key-overrides" title="Permanent link">&para;</a></h2>
<p>The <code>key_override_t</code> struct has many options that allow you to precisely tune your overrides. The full reference is shown below. Instead of manually creating a <code>key_override_t</code> value, it is recommended to use these dedicated initializers:</p>
<h4 id="ko_make_basicmodifiers-key-replacement"><code>ko_make_basic(modifiers, key, replacement)</code><a class="headerlink" href="#ko_make_basicmodifiers-key-replacement" title="Permanent link">&para;</a></h4>
<p>Returns a <code>key_override_t</code>, which sends <code>replacement</code> (can be a key-modifer combination), when <code>key</code> and <code>modifiers</code> are all pressed down. This override still activates if any additional modifiers not specified in <code>modifiers</code> are also pressed down. See <code>ko_make_with_layers_and_negmods</code> to customize this behavior.</p>
<h4 id="ko_make_with_layersmodifiers-key-replacement-layers"><code>ko_make_with_layers(modifiers, key, replacement, layers)</code><a class="headerlink" href="#ko_make_with_layersmodifiers-key-replacement-layers" title="Permanent link">&para;</a></h4>
<p>Additionally takes a bitmask <code>layers</code> that defines on which layers the override is used.</p>
<h4 id="ko_make_with_layers_and_negmodsmodifiers-key-replacement-layers-negative_mods"><code>ko_make_with_layers_and_negmods(modifiers, key, replacement, layers, negative_mods)</code><a class="headerlink" href="#ko_make_with_layers_and_negmodsmodifiers-key-replacement-layers-negative_mods" title="Permanent link">&para;</a></h4>
<p>Additionally takes a bitmask <code>negative_mods</code> that defines which modifiers may not be pressed for this override to activate.</p>
<h4 id="ko_make_with_layers_negmods_and_optionsmodifiers-key-replacement-layers-negative_mods-options"><code>ko_make_with_layers_negmods_and_options(modifiers, key, replacement, layers, negative_mods, options)</code><a class="headerlink" href="#ko_make_with_layers_negmods_and_optionsmodifiers-key-replacement-layers-negative_mods-options" title="Permanent link">&para;</a></h4>
<p>Additionally takes a bitmask <code>options</code> that specifies additional options. See <code>ko_option_t</code> for available options.</p>
<p>For more customization possibilities, you may directly create a <code>key_override_t</code>, which allows you to customize even more behavior. Read further below for details and examples.</p>
<h2 id="simple-example">Simple Example<a class="headerlink" href="#simple-example" title="Permanent link">&para;</a></h2>
<p>This shows how the mentioned example of sending <code>delete</code> when <code>shift</code> + <code>backspace</code> are pressed is realized:</p>
<div class="highlight"><pre><span></span><code><span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="n">delete_key_override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ko_make_basic</span><span class="p">(</span><span class="n">MOD_MASK_SHIFT</span><span class="p">,</span><span class="w"> </span><span class="n">KC_BSPC</span><span class="p">,</span><span class="w"> </span><span class="n">KC_DEL</span><span class="p">);</span><span class="w"></span>

<span class="c1">// This globally defines all key overrides to be used</span>
<span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="o">**</span><span class="n">key_overrides</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="o">*</span><span class="p">[]){</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">delete_key_override</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nb">NULL</span><span class="w"> </span><span class="c1">// Null terminate the array of overrides!</span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<h2 id="intermediate-difficulty-examples">Intermediate Difficulty Examples<a class="headerlink" href="#intermediate-difficulty-examples" title="Permanent link">&para;</a></h2>
<h3 id="media-controls-screen-brightness">Media Controls &amp; Screen Brightness<a class="headerlink" href="#media-controls-screen-brightness" title="Permanent link">&para;</a></h3>
<p>In this example a single key is configured to control media, volume and screen brightness by using key overrides.</p>
<ul>
<li>The key is set to send <code>play/pause</code> in the keymap.</li>
</ul>
<p>The following key overrides will be configured:</p>
<ul>
<li><code>Ctrl</code> + <code>play/pause</code> will send <code>next track</code>.</li>
<li><code>Ctrl</code> + <code>Shift</code> + <code>play/pause</code> will send <code>previous track</code>. </li>
<li><code>Alt</code> + <code>play/pause</code> will send <code>volume up</code>. </li>
<li><code>Alt</code> + <code>Shift</code> + <code>play/pause</code> will send <code>volume down</code>.</li>
<li><code>Ctrl</code> + <code>Alt</code> + <code>play/pause</code> will send <code>brightness up</code>.</li>
<li><code>Ctrl</code> + <code>Alt</code> + <code>Shift</code> + <code>play/pause</code> will send <code>brightness down</code>.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="n">next_track_override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">    </span><span class="n">ko_make_with_layers_negmods_and_options</span><span class="p">(</span><span class="w"></span>
<span class="w">        </span><span class="n">MOD_MASK_CTRL</span><span class="p">,</span><span class="w">       </span><span class="c1">// Trigger modifiers: ctrl</span>
<span class="w">        </span><span class="n">KC_MPLY</span><span class="p">,</span><span class="w">             </span><span class="c1">// Trigger key: play/pause</span>
<span class="w">        </span><span class="n">KC_MNXT</span><span class="p">,</span><span class="w">             </span><span class="c1">// Replacement key</span>
<span class="w">        </span><span class="o">~</span><span class="mi">0</span><span class="p">,</span><span class="w">                  </span><span class="c1">// Activate on all layers</span>
<span class="w">        </span><span class="n">MOD_MASK_SA</span><span class="p">,</span><span class="w">         </span><span class="c1">// Do not activate when shift or alt are pressed</span>
<span class="w">        </span><span class="n">ko_option_no_reregister_trigger</span><span class="p">);</span><span class="w"> </span><span class="c1">// Specifies that the play key is not registered again after lifting ctrl</span>

<span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="n">prev_track_override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ko_make_with_layers_negmods_and_options</span><span class="p">(</span><span class="n">MOD_MASK_CS</span><span class="p">,</span><span class="w"> </span><span class="n">KC_MPLY</span><span class="p">,</span><span class="w"></span>
<span class="w">                                            </span><span class="n">KC_MPRV</span><span class="p">,</span><span class="w"> </span><span class="o">~</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">MOD_MASK_ALT</span><span class="p">,</span><span class="w"> </span><span class="n">ko_option_no_reregister_trigger</span><span class="p">);</span><span class="w"></span>

<span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="n">vol_up_override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ko_make_with_layers_negmods_and_options</span><span class="p">(</span><span class="n">MOD_MASK_ALT</span><span class="p">,</span><span class="w"> </span><span class="n">KC_MPLY</span><span class="p">,</span><span class="w"></span>
<span class="w">                                            </span><span class="n">KC_VOLU</span><span class="p">,</span><span class="w"> </span><span class="o">~</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">MOD_MASK_CS</span><span class="p">,</span><span class="w"> </span><span class="n">ko_option_no_reregister_trigger</span><span class="p">);</span><span class="w"></span>

<span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="n">vol_down_override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ko_make_with_layers_negmods_and_options</span><span class="p">(</span><span class="n">MOD_MASK_SA</span><span class="p">,</span><span class="w"> </span><span class="n">KC_MPLY</span><span class="p">,</span><span class="w"></span>
<span class="w">                                            </span><span class="n">KC_VOLD</span><span class="p">,</span><span class="w"> </span><span class="o">~</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">MOD_MASK_CTRL</span><span class="p">,</span><span class="w"> </span><span class="n">ko_option_no_reregister_trigger</span><span class="p">);</span><span class="w"></span>

<span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="n">brightness_up_override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ko_make_with_layers_negmods_and_options</span><span class="p">(</span><span class="n">MOD_MASK_CA</span><span class="p">,</span><span class="w"> </span><span class="n">KC_MPLY</span><span class="p">,</span><span class="w"></span>
<span class="w">                                            </span><span class="n">KC_BRIU</span><span class="p">,</span><span class="w"> </span><span class="o">~</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">MOD_MASK_SHIFT</span><span class="p">,</span><span class="w"> </span><span class="n">ko_option_no_reregister_trigger</span><span class="p">);</span><span class="w"></span>

<span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="n">brightness_down_override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ko_make_basic</span><span class="p">(</span><span class="n">MOD_MASK_CSA</span><span class="p">,</span><span class="w"> </span><span class="n">KC_MPLY</span><span class="p">,</span><span class="w"> </span><span class="n">KC_BRID</span><span class="p">);</span><span class="w"></span>

<span class="c1">// This globally defines all key overrides to be used</span>
<span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="o">**</span><span class="n">key_overrides</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="o">*</span><span class="p">[]){</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">next_track_override</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">prev_track_override</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">vol_up_override</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">vol_down_override</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">brightness_up_override</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">brightness_down_override</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nb">NULL</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<h3 id="flexible-macos-friendly-grave-escape">Flexible macOS-friendly Grave Escape<a class="headerlink" href="#flexible-macos-friendly-grave-escape" title="Permanent link">&para;</a></h3>
<p>The <a href="../feature_grave_esc/">Grave Escape feature</a> is limited in its configurability and has <a href="../feature_grave_esc/#caveats">bugs when used on macOS</a>. Key overrides can be used to achieve a similar functionality as Grave Escape, but with more customization and without bugs on macOS.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Shift + esc = ~</span>
<span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="n">tilde_esc_override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ko_make_basic</span><span class="p">(</span><span class="n">MOD_MASK_SHIFT</span><span class="p">,</span><span class="w"> </span><span class="n">KC_ESC</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="p">(</span><span class="n">KC_GRV</span><span class="p">));</span><span class="w"></span>

<span class="c1">// GUI + esc = `</span>
<span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="n">grave_esc_override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ko_make_basic</span><span class="p">(</span><span class="n">MOD_MASK_GUI</span><span class="p">,</span><span class="w"> </span><span class="n">KC_ESC</span><span class="p">,</span><span class="w"> </span><span class="n">KC_GRV</span><span class="p">);</span><span class="w"></span>

<span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="o">**</span><span class="n">key_overrides</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="o">*</span><span class="p">[]){</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">tilde_esc_override</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">grave_esc_override</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nb">NULL</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>In addition to not encountering unexpected bugs on macOS, you can also change the behavior as you wish. Instead setting <code>GUI</code> + <code>ESC</code> = <code>`</code> you may change it to an arbitrary other modifier, for example <code>Ctrl</code> + <code>ESC</code> = <code>`</code>.</p>
<h2 id="advanced-examples">Advanced Examples<a class="headerlink" href="#advanced-examples" title="Permanent link">&para;</a></h2>
<h3 id="modifiers-as-layer-keys">Modifiers as Layer Keys<a class="headerlink" href="#modifiers-as-layer-keys" title="Permanent link">&para;</a></h3>
<p>Do you really need a dedicated key to toggle your fn layer? With key overrides, perhaps not. This example shows how you can configure to use <code>rGUI</code> + <code>rAlt</code> (right GUI and right alt) to access a momentary layer like an fn layer. With this you completely eliminate the need to use a dedicated layer key. Of course the choice of modifier keys can be changed as needed, <code>rGUI</code> + <code>rAlt</code> is just an example here. </p>
<div class="highlight"><pre><span></span><code><span class="c1">// This is called when the override activates and deactivates. Enable the fn layer on activation and disable on deactivation</span>
<span class="kt">bool</span><span class="w"> </span><span class="nf">momentary_layer</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">key_down</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">layer</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">key_down</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">layer_on</span><span class="p">((</span><span class="kt">uint8_t</span><span class="p">)(</span><span class="kt">uintptr_t</span><span class="p">)</span><span class="n">layer</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">layer_off</span><span class="p">((</span><span class="kt">uint8_t</span><span class="p">)(</span><span class="kt">uintptr_t</span><span class="p">)</span><span class="n">layer</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">const</span><span class="w"> </span><span class="n">key_override_t</span><span class="w"> </span><span class="n">fn_override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{.</span><span class="n">trigger_mods</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_RGUI</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_RCTL</span><span class="p">),</span><span class="w">                       </span><span class="c1">//</span>
<span class="w">                                   </span><span class="p">.</span><span class="n">layers</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">LAYER_FN</span><span class="p">),</span><span class="w">                                          </span><span class="c1">//</span>
<span class="w">                                   </span><span class="p">.</span><span class="n">suppressed_mods</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_RGUI</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_RCTL</span><span class="p">),</span><span class="w">                       </span><span class="c1">//</span>
<span class="w">                                   </span><span class="p">.</span><span class="n">options</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="n">ko_option_no_unregister_on_other_key_down</span><span class="p">,</span><span class="w">                 </span><span class="c1">//</span>
<span class="w">                                   </span><span class="p">.</span><span class="n">negative_mod_mask</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="w"> </span><span class="o">~</span><span class="p">(</span><span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_RGUI</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_RCTL</span><span class="p">)),</span><span class="w">          </span><span class="c1">//</span>
<span class="w">                                   </span><span class="p">.</span><span class="n">custom_action</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">momentary_layer</span><span class="p">,</span><span class="w">                                           </span><span class="c1">//</span>
<span class="w">                                   </span><span class="p">.</span><span class="n">context</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">LAYER_FN</span><span class="p">,</span><span class="w">                                          </span><span class="c1">//</span>
<span class="w">                                   </span><span class="p">.</span><span class="n">trigger</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="n">KC_NO</span><span class="p">,</span><span class="w">                                                     </span><span class="c1">//</span>
<span class="w">                                   </span><span class="p">.</span><span class="n">replacement</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="n">KC_NO</span><span class="p">,</span><span class="w">                                                     </span><span class="c1">//</span>
<span class="w">                                   </span><span class="p">.</span><span class="n">enabled</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">};</span><span class="w"></span>
</code></pre></div>
<h2 id="keycodes">Keycodes<a class="headerlink" href="#keycodes" title="Permanent link">&para;</a></h2>
<p>You can enable, disable and toggle all key overrides on the fly.</p>
<table>
<thead>
<tr>
<th>Keycode</th>
<th>Description</th>
<th>Function Equivalent</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>KEY_OVERRIDE_ON</code></td>
<td>Turns on Key Override feature</td>
<td><code>key_override_on(void)</code></td>
</tr>
<tr>
<td><code>KEY_OVERRIDE_OFF</code></td>
<td>Turns off Key Override feature</td>
<td><code>key_override_off(void)</code></td>
</tr>
<tr>
<td><code>KEY_OVERRIDE_TOGGLE</code></td>
<td>Toggles Key Override feature on and off</td>
<td><code>key_override_toggle(void)</code></td>
</tr>
</tbody>
</table>
<h2 id="reference-for-key_override_t">Reference for <code>key_override_t</code><a class="headerlink" href="#reference-for-key_override_t" title="Permanent link">&para;</a></h2>
<p>Advanced users may need more customization than what is offered by the simple <code>ko_make</code> initializers. For this, directly create a <code>key_override_t</code> value and set all members. Below is a reference for all members of <code>key_override_t</code>.</p>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>uint16_t trigger</code></td>
<td>The non-modifier keycode that triggers the override. This keycode, and the necessary modifiers (<code>trigger_mods</code>) must be pressed to activate this override. Set this to the keycode of the key that should activate the override. Set to <code>KC_NO</code> to require only the necessary modifiers to be pressed and no non-modifier.</td>
</tr>
<tr>
<td><code>uint8_t trigger_mods</code></td>
<td>Which mods need to be down for activation. If both sides of a modifier are set (e.g. left ctrl and right ctrl) then only one is required to be pressed (e.g. left ctrl suffices). Use the <code>MOD_MASK_XXX</code> and <code>MOD_BIT()</code> macros for this.</td>
</tr>
<tr>
<td><code>layer_state_t layers</code></td>
<td>This is a BITMASK (!), defining which layers this override applies to. To use this override on layer i set the ith bit <code>(1 &lt;&lt; i)</code>.</td>
</tr>
<tr>
<td><code>uint8_t negative_mod_mask</code></td>
<td>Which modifiers cannot be down. It must hold that <code>(active_modifiers &amp; negative_mod_mask) == 0</code>, otherwise the key override will not be activated. An active override will be deactivated once this is no longer true.</td>
</tr>
<tr>
<td><code>uint8_t suppressed_mods</code></td>
<td>Modifiers to 'suppress' while the override is active. To suppress a modifier means that even though the modifier key is held down, the host OS sees the modifier as not pressed. Can be used to suppress the trigger modifiers, as a trivial example.</td>
</tr>
<tr>
<td><code>uint16_t replacement</code></td>
<td>The complex keycode to send as replacement when this override is triggered. This can be a simple keycode, a key-modifier combination (e.g. <code>C(KC_A)</code>), or <code>KC_NO</code> (to register no replacement keycode). Use in combination with suppressed_mods to get the correct modifiers to be sent.</td>
</tr>
<tr>
<td><code>ko_option_t options</code></td>
<td>Options controlling the behavior of the override, such as what actions are allowed to activate the override.</td>
</tr>
<tr>
<td><code>bool (*custom_action)(bool activated, void *context)</code></td>
<td>If not NULL, this function will be called right before the replacement key is registered, along with the provided context and a flag indicating whether the override was activated or deactivated. This function allows you to run some custom actions for specific key overrides. If you return <code>false</code>, the replacement key is not registered/unregistered as it would normally. Return <code>true</code> to register and unregister the override normally.</td>
</tr>
<tr>
<td><code>void *context</code></td>
<td>A context that will be passed to the custom action function.</td>
</tr>
<tr>
<td><code>bool *enabled</code></td>
<td>If this points to false this override will not be used. Set to NULL to always have this override enabled.</td>
</tr>
</tbody>
</table>
<h3 id="reference-for-ko_option_t">Reference for <code>ko_option_t</code><a class="headerlink" href="#reference-for-ko_option_t" title="Permanent link">&para;</a></h3>
<p>Bitfield with various options controlling the behavior of a key override.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ko_option_activation_trigger_down</code></td>
<td>Allow activating when the trigger key is pressed down.</td>
</tr>
<tr>
<td><code>ko_option_activation_required_mod_down</code></td>
<td>Allow activating when a necessary modifier is pressed down.</td>
</tr>
<tr>
<td><code>ko_option_activation_negative_mod_up</code></td>
<td>Allow activating when a negative modifier is released.</td>
</tr>
<tr>
<td><code>ko_option_one_mod</code></td>
<td>If set, any of the modifiers in <code>trigger_mods</code> will be enough to activate the override (logical OR of modifiers). If not set, all the modifiers in <code>trigger_mods</code> have to be pressed (logical AND of modifiers).</td>
</tr>
<tr>
<td><code>ko_option_no_unregister_on_other_key_down</code></td>
<td>If set, the override will not deactivate when another key is pressed down. Use only if you really know you need this.</td>
</tr>
<tr>
<td><code>ko_option_no_reregister_trigger</code></td>
<td>If set, the trigger key will never be registered again after the override is deactivated.</td>
</tr>
<tr>
<td><code>ko_options_default</code></td>
<td>The default options used by the <code>ko_make_xxx</code> functions</td>
</tr>
</tbody>
</table>
<h2 id="for-advanced-users-inner-workings">For Advanced Users: Inner Workings<a class="headerlink" href="#for-advanced-users-inner-workings" title="Permanent link">&para;</a></h2>
<p>This section explains how a key override works in detail, explaining where each member of <code>key_override_t</code> comes into play. Understanding this is essential to be able to take full advantage of all the options offered by key overrides.</p>
<h4 id="activation">Activation<a class="headerlink" href="#activation" title="Permanent link">&para;</a></h4>
<p>When the necessary keys are pressed (<code>trigger_mods</code> + <code>trigger</code>), the override is 'activated' and the replacement key is registered in the keyboard report (<code>replacement</code>), while the <code>trigger</code> key is removed from the keyboard report. The trigger modifiers may also be removed from the keyboard report upon activation of an override (<code>suppressed_mods</code>). The override will not activate if any of the <code>negative_modifiers</code> are pressed.</p>
<p>Overrides can activate in three different cases:</p>
<ol>
<li>The trigger key is pressed down and necessary modifiers are already down.</li>
<li>A necessary modifier is pressed down, while the trigger key and other necessary modifiers are already down.</li>
<li>A negative modifier is released, while all necessary modifiers and the trigger key are already down.</li>
</ol>
<p>Use the <code>option</code> member to customize which of these events are allowed to activate your overrides (default: all three).</p>
<p>In any case, a key override can only activate if the <code>trigger</code> key is the <em>last</em> non-modifier key that was pressed down. This emulates the behavior of how standard OSes (macOS, Windows, Linux) handle normal key input (to understand: Hold down <code>a</code>, then also hold down <code>b</code>, then hold down <code>shift</code>; <code>B</code> will be typed but not <code>A</code>).</p>
<h4 id="deactivation">Deactivation<a class="headerlink" href="#deactivation" title="Permanent link">&para;</a></h4>
<p>An override is 'deactivated' when one of the trigger keys (<code>trigger_mods</code>, <code>trigger</code>) is lifted, another non-modifier key is pressed down, or one of the <code>negative_modifiers</code> is pressed down. When an override deactivates, the <code>replacement</code> key is removed from the keyboard report, while the <code>suppressed_mods</code> that are still held down are re-added to the keyboard report. By default, the <code>trigger</code> key is re-added to the keyboard report if it is still held down and no other non-modifier key has been pressed since. This again emulates the behavior of how standard OSes handle normal key input (To understand: hold down <code>a</code>, then also hold down <code>b</code>, then also <code>shift</code>, then release <code>b</code>; <code>A</code> will not be typed even though you are holding the <code>a</code> and <code>shift</code> keys). Use the <code>option</code> field <code>ko_option_no_reregister_trigger</code> to prevent re-registering the trigger key in all cases.</p>
<h4 id="key-repeat-delay">Key Repeat Delay<a class="headerlink" href="#key-repeat-delay" title="Permanent link">&para;</a></h4>
<p>A third way in which standard OS-handling of modifier-key input is emulated in key overrides is with a <a href="https://www.dummies.com/computers/pcs/set-your-keyboards-repeat-delay-and-repeat-rate/">'key repeat delay'</a>. To explain what this is, let's look at how normal keyboard input is handled by mainstream OSes again: If you hold down <code>a</code>, followed by <code>shift</code>, you will see the letter <code>a</code> is first typed, then for a short moment nothing is typed and then repeating <code>A</code>s are typed. Take note that, although shift is pressed down just after <code>a</code> is pressed, it takes a moment until <code>A</code> is typed. This is caused by the aforementioned key repeat delay, and it is a feature that prevents unwanted repeated characters from being typed.</p>
<p>This applies equally to releasing a modifier: When you hold <code>shift</code>, then press <code>a</code>, the letter <code>A</code> is typed. Now if you release <code>shift</code> first, followed by <code>a</code> shortly after, you will not see the letter <code>a</code> being typed, even though for a short moment of time you were just holding down the key <code>a</code>. This is because no modified characters are typed until the key repeat delay has passed.</p>
<p>This exact behavior is implemented in key overrides as well: If a key override for <code>shift</code> + <code>a</code> = <code>b</code> exists, and <code>a</code> is pressed and held, followed by <code>shift</code>, you will not immediately see the letter <code>b</code> being typed. Instead, this event is deferred for a short moment, until the key repeat delay has passed, measured from the moment when the trigger key (<code>a</code>) was pressed down.</p>
<p>The duration of the key repeat delay is controlled with the <code>KEY_OVERRIDE_REPEAT_DELAY</code> macro. Define this value in your <code>config.h</code> file to change it. It is 500ms by default.</p>
<h2 id="difference-to-combos">Difference to Combos<a class="headerlink" href="#difference-to-combos" title="Permanent link">&para;</a></h2>
<p>Note that key overrides are very different from <a href="https://docs.qmk.fm/#/feature_combo">combos</a>. Combos require that you press down several keys almost <em>at the same time</em> and can work with any combination of non-modifier keys. Key overrides work like keyboard shortcuts (e.g. <code>ctrl</code> + <code>z</code>): They take combinations of <em>multiple</em> modifiers and <em>one</em> non-modifier key to then perform some custom action. Key overrides are implemented with much care to behave just like normal keyboard shortcuts would in regards to the order of pressed keys, timing, and interacton with other pressed keys. There are a number of optional settings that can be used to really fine-tune the behavior of each key override as well. Using key overrides also does not delay key input for regular key presses, which inherently happens in combos and may be undesirable.</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "navigation.sections", "search.highlight", "search.share", "search.suggest"], "translations": {"clipboard.copy": "\u590d\u5236", "clipboard.copied": "\u5df2\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "search": "../assets/javascripts/workers/search.361d90f1.min.js", "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.289a2a4b.min.js"></script>
      
    
  </body>
</html>