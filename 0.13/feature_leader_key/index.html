
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://docs.qmk.fm/0.13/feature_leader_key/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.4">
    
    
      
        <title>The Leader Key: A New Kind of Modifier - QMK Firmware Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.f7f47774.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#the-leader-key-a-new-kind-of-modifier" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="QMK Firmware Docs" class="md-header__button md-logo" aria-label="QMK Firmware Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            QMK Firmware Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              The Leader Key: A New Kind of Modifier
            
          </span>
        </div>
      </div>
    </div>
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="Select language">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="../README.md" hreflang="en" class="md-select__link">
                    English
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="../zh-cn/" hreflang="zh" class="md-select__link">
                    中文
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="../es/" hreflang="es" class="md-select__link">
                    Español
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="../fr-fr/" hreflang="fr" class="md-select__link">
                    Français
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="../he-il/" hreflang="he" class="md-select__link">
                    עברית
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="../pt-br/" hreflang="pt" class="md-select__link">
                    Português
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="../ru-ru/" hreflang="ru" class="md-select__link">
                    Русский
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="../ja/" hreflang="ja" class="md-select__link">
                    日本語
                  </a>
                </li>
                
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/qmk/qmk_firmware/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    qmk/qmk_firmware
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Quantum Mechanical Keyboard Firmware
    </a>
  </li>

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="QMK Firmware Docs" class="md-nav__button md-logo" aria-label="QMK Firmware Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    QMK Firmware Docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/qmk/qmk_firmware/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    qmk/qmk_firmware
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Quantum Mechanical Keyboard Firmware
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adding-leader-key-support-in-the-rulesmk" class="md-nav__link">
    Adding Leader Key Support in the rules.mk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#per-key-timing-on-leader-keys" class="md-nav__link">
    Per Key Timing on Leader keys
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#infinite-leader-key-timeout" class="md-nav__link">
    Infinite Leader key timeout
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strict-key-processing" class="md-nav__link">
    Strict Key Processing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#customization" class="md-nav__link">
    Customization
  </a>
  
    <nav class="md-nav" aria-label="Customization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/qmk/qmk_firmware/edit/master/docs/feature_leader_key.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="the-leader-key-a-new-kind-of-modifier">The Leader Key: A New Kind of Modifier<a class="headerlink" href="#the-leader-key-a-new-kind-of-modifier" title="Permanent link">&para;</a></h1>
<p>If you've ever used Vim, you know what a Leader key is. If not, you're about to discover a wonderful concept. :) Instead of hitting Alt+Shift+W for example (holding down three keys at the same time), what if you could hit a <em>sequence</em> of keys instead? So you'd hit our special modifier (the Leader key), followed by W and then C (just a rapid succession of keys), and something would happen.</p>
<p>That's what <code>KC_LEAD</code> does. Here's an example:</p>
<ol>
<li>Pick a key on your keyboard you want to use as the Leader key. Assign it the keycode <code>KC_LEAD</code>. This key would be dedicated just for this -- it's a single action key, can't be used for anything else.</li>
<li>Include the line <code>#define LEADER_TIMEOUT 300</code> in your <code>config.h</code>. This sets the timeout for the <code>KC_LEAD</code> key.  Specifically, when you press the <code>KC_LEAD</code> key, you only have a certain amount of time to complete the Leader Key sequence.  The <code>300</code> here sets that to 300ms, and you can increase this value to give you more time to hit the sequence. But any keys pressed during this timeout are intercepted and not sent, so you may want to keep this value low.<br />
   * By default, this timeout is how long after pressing <code>KC_LEAD</code> to complete your entire sequence. This may be very low for some people. So you may want to increase this timeout.  Optionally, you may want to enable the <code>LEADER_PER_KEY_TIMING</code> option, which resets the timeout after each key is tapped.  This allows you to maintain a low value here, but still be able to use the longer sequences.   To enable this option, add <code>#define LEADER_PER_KEY_TIMING</code> to your <code>config.h</code>.</li>
<li>Within your <code>matrix_scan_user</code> function, add something like this:</li>
</ol>
<div class="codehilite"><pre><span></span><code><span class="n">LEADER_EXTERNS</span><span class="p">();</span>

<span class="kt">void</span> <span class="nf">matrix_scan_user</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">LEADER_DICTIONARY</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">leading</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
    <span class="n">leader_end</span><span class="p">();</span>

    <span class="n">SEQ_ONE_KEY</span><span class="p">(</span><span class="n">KC_F</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Anything you can do in a macro.</span>
      <span class="n">SEND_STRING</span><span class="p">(</span><span class="s">&quot;QMK is awesome.&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">SEQ_TWO_KEYS</span><span class="p">(</span><span class="n">KC_D</span><span class="p">,</span> <span class="n">KC_D</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">SEND_STRING</span><span class="p">(</span><span class="n">SS_LCTL</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">)</span> <span class="n">SS_LCTL</span><span class="p">(</span><span class="s">&quot;c&quot;</span><span class="p">));</span>
    <span class="p">}</span>
    <span class="n">SEQ_THREE_KEYS</span><span class="p">(</span><span class="n">KC_D</span><span class="p">,</span> <span class="n">KC_D</span><span class="p">,</span> <span class="n">KC_S</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">SEND_STRING</span><span class="p">(</span><span class="s">&quot;https://start.duckduckgo.com</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">SEQ_TWO_KEYS</span><span class="p">(</span><span class="n">KC_A</span><span class="p">,</span> <span class="n">KC_S</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">register_code</span><span class="p">(</span><span class="n">KC_LGUI</span><span class="p">);</span>
      <span class="n">register_code</span><span class="p">(</span><span class="n">KC_S</span><span class="p">);</span>
      <span class="n">unregister_code</span><span class="p">(</span><span class="n">KC_S</span><span class="p">);</span>
      <span class="n">unregister_code</span><span class="p">(</span><span class="n">KC_LGUI</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>As you can see, you have a few function. You can use <code>SEQ_ONE_KEY</code> for single-key sequences (Leader followed by just one key), and <code>SEQ_TWO_KEYS</code>, <code>SEQ_THREE_KEYS</code> up to <code>SEQ_FIVE_KEYS</code> for longer sequences.</p>
<p>Each of these accepts one or more keycodes as arguments. This is an important point: You can use keycodes from <strong>any layer on your keyboard</strong>. That layer would need to be active for the leader macro to fire, obviously.</p>
<h2 id="adding-leader-key-support-in-the-rulesmk">Adding Leader Key Support in the <code>rules.mk</code><a class="headerlink" href="#adding-leader-key-support-in-the-rulesmk" title="Permanent link">&para;</a></h2>
<p>To add support for Leader Key you simply need to add a single line to your keymap's <code>rules.mk</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">LEADER_ENABLE</span> <span class="o">=</span> yes
</code></pre></div>

<h2 id="per-key-timing-on-leader-keys">Per Key Timing on Leader keys<a class="headerlink" href="#per-key-timing-on-leader-keys" title="Permanent link">&para;</a></h2>
<p>Rather than relying on an incredibly high timeout for long leader key strings or those of us without 200wpm typing skills, we can enable per key timing to ensure that each key pressed provides us with more time to finish our stroke. This is incredibly helpful with leader key emulation of tap dance (read: multiple taps of the same key like C, C, C).</p>
<p>In order to enable this, place this in your <code>config.h</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="cp">#define LEADER_PER_KEY_TIMING</span>
</code></pre></div>

<p>After this, it's recommended that you lower your <code>LEADER_TIMEOUT</code> to something less that 300ms.</p>
<div class="codehilite"><pre><span></span><code><span class="cp">#define LEADER_TIMEOUT 250</span>
</code></pre></div>

<p>Now, something like this won't seem impossible to do without a 1000MS leader key timeout:</p>
<div class="codehilite"><pre><span></span><code><span class="n">SEQ_THREE_KEYS</span><span class="p">(</span><span class="n">KC_C</span><span class="p">,</span> <span class="n">KC_C</span><span class="p">,</span> <span class="n">KC_C</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">SEND_STRING</span><span class="p">(</span><span class="s">&quot;Per key timing is great!!!&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="infinite-leader-key-timeout">Infinite Leader key timeout<a class="headerlink" href="#infinite-leader-key-timeout" title="Permanent link">&para;</a></h2>
<p>Sometimes your leader key is not on a comfortable places as the rest of keys on your sequence. Imagine that your leader key is one of your outer top right keys, you may need to reposition your hand just to reach your leader key.
This can make typing the entire sequence on time hard even if you are able to type most of the sequence fast. For example, if your sequence is <code>Leader + asd</code> typing <code>asd</code> fast is very easy once you have your hands in your home row. However starting the sequence in time after moving your hand out of the home row to reach the leader key and back is not.
To remove the stress this situation produces to your hands you can enable an infinite timeout just for the leader key. This mean that, after you hit the leader key you will have an infinite amount of time to start the rest of the sequence, allowing you to proper position your hands on the best position to type the rest of the sequence comfortably.
This infinite timeout only affects the leader key, so in our previous example of <code>Leader + asd</code> you will have an infinite amount of time between <code>Leader</code> and <code>a</code>, but once you start the sequence the timeout you have configured (global or per key) will work normally.
This way you can configure a very short <code>LEADER_TIMEOUT</code> but still have plenty of time to position your hands.</p>
<p>In order to enable this, place this in your <code>config.h</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="cp">#define LEADER_NO_TIMEOUT</span>
</code></pre></div>

<h2 id="strict-key-processing">Strict Key Processing<a class="headerlink" href="#strict-key-processing" title="Permanent link">&para;</a></h2>
<p>By default, the Leader Key feature will filter the keycode out of <a href="../mod_tap/"><code>Mod-Tap</code></a> and <a href="../feature_layers/#switching-and-toggling-layers"><code>Layer Tap</code></a> functions when checking for the Leader sequences. That means if you're using <code>LT(3, KC_A)</code>, it will pick this up as <code>KC_A</code> for the sequence, rather than <code>LT(3, KC_A)</code>, giving a more expected behavior for newer users.</p>
<p>While, this may be fine for most, if you want to specify the whole keycode (eg, <code>LT(3, KC_A)</code> from the example above) in the sequence, you can enable this by added <code>#define LEADER_KEY_STRICT_KEY_PROCESSING</code> to your <code>config.h</code> file.  This will then disable the filtering, and you'll need to specify the whole keycode.</p>
<h2 id="customization">Customization<a class="headerlink" href="#customization" title="Permanent link">&para;</a></h2>
<p>The Leader Key feature has some additional customization to how the Leader Key feature works.  It has two functions that can be called at certain parts of the process.  Namely <code>leader_start()</code> and <code>leader_end()</code>.</p>
<p>The <code>leader_start()</code> function is called when you tap the <code>KC_LEAD</code> key, and the <code>leader_end()</code> function is called when either the leader sequence is completed, or the leader timeout is hit. </p>
<p>You can add these functions to your code (<code>keymap.c</code> usually) to add feedback to the Leader sequences (such as beeping or playing music).</p>
<div class="codehilite"><pre><span></span><code><span class="kt">void</span> <span class="nf">leader_start</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// sequence started</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">leader_end</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// sequence ended (no success/failure detection)</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h3>
<p>This example will play the Mario "One Up" sound when you hit <code>KC_LEAD</code> to start the Leader Sequence, and will play "All Star" if it completes successfully or "Rick Roll" you if it fails. </p>
<div class="codehilite"><pre><span></span><code><span class="kt">bool</span> <span class="n">did_leader_succeed</span><span class="p">;</span>
<span class="cp">#ifdef AUDIO_ENABLE</span>
<span class="kt">float</span> <span class="n">leader_start</span><span class="p">[][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">SONG</span><span class="p">(</span><span class="n">ONE_UP_SOUND</span> <span class="p">);</span>
<span class="kt">float</span> <span class="n">leader_succeed</span><span class="p">[][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">SONG</span><span class="p">(</span><span class="n">ALL_STAR</span><span class="p">);</span>
<span class="kt">float</span> <span class="n">leader_fail</span><span class="p">[][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">SONG</span><span class="p">(</span><span class="n">RICK_ROLL</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="n">LEADER_EXTERNS</span><span class="p">();</span>

<span class="kt">void</span> <span class="nf">matrix_scan_user</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">LEADER_DICTIONARY</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">did_leader_succeed</span> <span class="o">=</span> <span class="n">leading</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>

    <span class="n">SEQ_ONE_KEY</span><span class="p">(</span><span class="n">KC_E</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Anything you can do in a macro.</span>
      <span class="n">SEND_STRING</span><span class="p">(</span><span class="n">SS_LCTL</span><span class="p">(</span><span class="n">SS_LSFT</span><span class="p">(</span><span class="s">&quot;t&quot;</span><span class="p">)));</span>
      <span class="n">did_leader_succeed</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> 
    <span class="n">SEQ_TWO_KEYS</span><span class="p">(</span><span class="n">KC_E</span><span class="p">,</span> <span class="n">KC_D</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">SEND_STRING</span><span class="p">(</span><span class="n">SS_LGUI</span><span class="p">(</span><span class="s">&quot;r&quot;</span><span class="p">)</span> <span class="s">&quot;cmd</span><span class="se">\n</span><span class="s">&quot;</span> <span class="n">SS_LCTL</span><span class="p">(</span><span class="s">&quot;c&quot;</span><span class="p">));</span>
      <span class="n">did_leader_succeed</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">leader_end</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">leader_start</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
<span class="cp">#ifdef AUDIO_ENABLE</span>
    <span class="n">PLAY_SONG</span><span class="p">(</span><span class="n">leader_start</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">leader_end</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">did_leader_succeed</span><span class="p">)</span> <span class="p">{</span>
<span class="cp">#ifdef AUDIO_ENABLE</span>
    <span class="n">PLAY_SONG</span><span class="p">(</span><span class="n">leader_succeed</span><span class="p">);</span>
<span class="cp">#endif</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="cp">#ifdef AUDIO_ENABLE</span>
    <span class="n">PLAY_SONG</span><span class="p">(</span><span class="n">leader_fail</span><span class="p">);</span>
<span class="cp">#endif</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "navigation.instant", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.709b4209.min.js", "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.febc23d1.min.js"></script>
      
    
  </body>
</html>