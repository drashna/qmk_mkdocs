
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://docs.qmk.fm/0.13/reference_configurator_support/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.4">
    
    
      
        <title>Supporting Your Keyboard in QMK Configurator - QMK Firmware Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.f7f47774.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#supporting-your-keyboard-in-qmk-configurator" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="QMK Firmware Docs" class="md-header__button md-logo" aria-label="QMK Firmware Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            QMK Firmware Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Supporting Your Keyboard in QMK Configurator
            
          </span>
        </div>
      </div>
    </div>
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="Select language">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="/" hreflang="en" class="md-select__link">
                    English
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="/zh-cn/" hreflang="zh" class="md-select__link">
                    中文
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="/es/" hreflang="es" class="md-select__link">
                    Español
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="/fr-fr/" hreflang="fr" class="md-select__link">
                    Français
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="/he-il/" hreflang="he" class="md-select__link">
                    עברית
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="/pt-br/" hreflang="pt" class="md-select__link">
                    Português
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="/ru-ru/" hreflang="ru" class="md-select__link">
                    Русский
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="/ja/" hreflang="ja" class="md-select__link">
                    日本語
                  </a>
                </li>
                
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/qmk/qmk_firmware/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    qmk/qmk_firmware
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Quantum Mechanical Keyboard Firmware
    </a>
  </li>

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="QMK Firmware Docs" class="md-nav__button md-logo" aria-label="QMK Firmware Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    QMK Firmware Docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/qmk/qmk_firmware/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    qmk/qmk_firmware
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Quantum Mechanical Keyboard Firmware
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-the-configurator-understands-keyboards" class="md-nav__link">
    How the Configurator Understands Keyboards
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-the-json-file" class="md-nav__link">
    Building the JSON file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-the-configurator-programs-keys" class="md-nav__link">
    How the Configurator Programs Keys
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#issues-and-hazards" class="md-nav__link">
    Issues and Hazards
  </a>
  
    <nav class="md-nav" aria-label="Issues and Hazards">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#workarounds" class="md-nav__link">
    Workarounds
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/qmk/qmk_firmware/edit/master/docs/reference_configurator_support.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="supporting-your-keyboard-in-qmk-configurator">Supporting Your Keyboard in QMK Configurator<a class="headerlink" href="#supporting-your-keyboard-in-qmk-configurator" title="Permanent link">&para;</a></h1>
<p>This page covers how to properly support keyboards in the <a href="https://config.qmk.fm/">QMK Configurator</a>.</p>
<h2 id="how-the-configurator-understands-keyboards">How the Configurator Understands Keyboards<a class="headerlink" href="#how-the-configurator-understands-keyboards" title="Permanent link">&para;</a></h2>
<p>To understand how the Configurator understands keyboards, first one must understand layout macros. For this exercise, we're going to imagine a 17-key numpad PCB, which we're going to call <code>numpad</code>.</p>
<div class="codehilite"><pre><span></span><code>|---------------|
|NLk| / | * | - |
|---+---+---+---|
|7  |8  |9  | + |
|---+---+---|   |
|4  |5  |6  |   |
|---+---+---+---|
|1  |2  |3  |Ent|
|-------+---|   |
|0      | . |   |
|---------------|
</code></pre></div>

<p>?&gt; For more on layout macros, see <a href="../understanding_qmk/?id=matrix-scanning">Understanding QMK: Matrix Scanning</a> and <a href="../understanding_qmk/?id=matrix-to-physical-layout-map">Understanding QMK: Matrix to Physical Layout Map</a>.</p>
<p>The Configurator's API reads the keyboard's <code>.h</code> file from <code>qmk_firmware/keyboards/&lt;keyboard&gt;/&lt;keyboard&gt;.h</code>. For our numpad, this file would be <code>qmk_firmware/keyboards/numpad/numpad.h</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="cp">#pragma once</span>

<span class="cp">#define LAYOUT( \</span>
<span class="cp">    k00, k01, k02, k03, \</span>
<span class="cp">    k10, k11, k12, k13, \</span>
<span class="cp">    k20, k21, k22,      \</span>
<span class="cp">    k30, k31, k32, k33, \</span>
<span class="cp">    k40,      k42       \</span>
<span class="cp">  ) { \</span>
<span class="cp">    { k00, k01,   k02, k03   }, \</span>
<span class="cp">    { k10, k11,   k12, k13   }, \</span>
<span class="cp">    { k20, k21,   k22, KC_NO }, \</span>
<span class="cp">    { k30, k31,   k32, k33   }, \</span>
<span class="cp">    { k40, KC_NO, k42, KC_NO }  \</span>
<span class="cp">}</span>
</code></pre></div>

<p>QMK uses <code>KC_NO</code> to designate places in the switch matrix where there is no switch. Sometimes, <code>XXX</code>, <code>___</code> or <code>____</code> are used as shorthand to make this section easier to read if it needs to be debugged. This is usually defined near the beginning of the <code>.h</code> file:</p>
<div class="codehilite"><pre><span></span><code><span class="cp">#pragma once</span>

<span class="cp">#define XXX KC_NO</span>

<span class="cp">#define LAYOUT( \</span>
<span class="cp">    k00, k01, k02, k03, \</span>
<span class="cp">    k10, k11, k12, k13, \</span>
<span class="cp">    k20, k21, k22,      \</span>
<span class="cp">    k30, k31, k32, k33, \</span>
<span class="cp">    k40,      k42       \</span>
<span class="cp">  ) { \</span>
<span class="cp">    { k00, k01, k02, k03 }, \</span>
<span class="cp">    { k10, k11, k12, k13 }, \</span>
<span class="cp">    { k20, k21, k22, XXX }, \</span>
<span class="cp">    { k30, k31, k32, k33 }, \</span>
<span class="cp">    { k40, XXX, k42, XXX }  \</span>
<span class="cp">}</span>
</code></pre></div>

<p>!&gt; This usage differs from that of keymap macros, which almost always use <code>XXXXXXX</code> (seven capital X's) for <code>KC_NO</code> and <code>_______</code> (seven underscores) for <code>KC_TRNS</code>.</p>
<p>!&gt; To prevent user confusion, using <code>KC_NO</code> is preferred.</p>
<p>The layout macro tells the Configurator that our keyboard has 17 keys, arranged in five rows of four columns each. Our switch positions are named <code>k&lt;row&gt;&lt;column&gt;</code>, counting from 0. The names themselves actually don't matter, as long as they match between the top section, which receives the keycodes from the keymap, and the bottom half which designates where each key is in the matrix.</p>
<p>To display our keyboard in a way that resembles the physical keyboard, we need to build a JSON file that tells the Configurator how to tie the physical locations and sizes of our keys to our switch matrix.</p>
<h2 id="building-the-json-file">Building the JSON file<a class="headerlink" href="#building-the-json-file" title="Permanent link">&para;</a></h2>
<p>To build the JSON file, the easiest way is to build the layout in <a href="https://www.keyboard-layout-editor.com/">Keyboard Layout Editor</a> ("KLE"), from which we'll feed the Raw Data into a QMK tool that converts this data into a JSON the Configurator will read and use. Since KLE opens by default with a numpad layout, we're just going to remove the Getting Started instructions, and use what's left.</p>
<p>Once the layout is as desired, move to the Raw Data tab in KLE, and copy the contents:</p>
<div class="codehilite"><pre><span></span><code>[&quot;Num Lock&quot;,&quot;/&quot;,&quot;*&quot;,&quot;-&quot;],
[&quot;7\nHome&quot;,&quot;8\n↑&quot;,&quot;9\nPgUp&quot;,{h:2},&quot;+&quot;],
[&quot;4\n←&quot;,&quot;5&quot;,&quot;6\n→&quot;],
[&quot;1\nEnd&quot;,&quot;2\n↓&quot;,&quot;3\nPgDn&quot;,{h:2},&quot;Enter&quot;],
[{w:2},&quot;0\nIns&quot;,&quot;.\nDel&quot;]
</code></pre></div>

<p>To convert this data into our JSON, go to the <a href="https://qmk.fm/converter/">QMK KLE-JSON Converter</a>, paste the Raw Data into the Input field, and click the Convert button. After a moment, our JSON data will appear in the Output field. Copy the contents to a new text document, and name the document <code>info.json</code>, saving it in the same folder that contains <code>numpad.h</code>.</p>
<p>Use the <code>keyboard_name</code> object to set the name of the keyboard. For instruction purposes, we will put each key's object on its own line. This is only to make the file more human-readable, and does not affect the Configurator's functionality.</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;keyboard_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Numpad&quot;</span><span class="p">,</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;maintainer&quot;</span><span class="p">:</span> <span class="s2">&quot;qmk&quot;</span><span class="p">,</span>
    <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;form_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;numpad&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="nt">&quot;height&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="nt">&quot;layouts&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;LAYOUT&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;layout&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;Num Lock&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;9&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="nt">&quot;h&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="nt">&quot;h&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="nt">&quot;w&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">4</span><span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>The <code>layouts</code> object contains the data that represents the physical layout of the keyboard. It has an object <code>LAYOUT</code>, which needs to match the name of our layout macro from <code>numpad.h</code>. The <code>LAYOUT</code> object itself has an object named <code>layout</code>, which contains one JSON object for each physical key on our keyboard, formatted as follows:</p>
<div class="codehilite"><pre><span></span><code>  The name of the key. Not displayed in the Configurator.
  |
  |                   The key&#39;s X-axis location, in key units from the
  |                   | keyboard&#39;s left edge.
  |                   |
  |                   |      The key&#39;s Y-axis location, in key units from
  |                   |      | the keyboard&#39;s top (rear-facing) edge.
  ↓                   ↓      ↓
{&quot;label&quot;:&quot;Num Lock&quot;, &quot;x&quot;:0, &quot;y&quot;:0},
</code></pre></div>

<p>Some objects will also have <code>"w"</code> and <code>"h"</code> keys, which represent a key's width and height, respectively.</p>
<p>?&gt; For more on the <code>info.json</code> files, see <a href="../reference_info_json/"><code>info.json</code> Format</a>.</p>
<h2 id="how-the-configurator-programs-keys">How the Configurator Programs Keys<a class="headerlink" href="#how-the-configurator-programs-keys" title="Permanent link">&para;</a></h2>
<p>The Configurator's API uses the layout macro and the JSON file we've given it to create a visual representation of the keyboard that has each visual object tied to a specific key, in sequence:</p>
<table>
<thead>
<tr>
<th align="center">key in layout macro</th>
<th align="left">JSON object used</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">k00</td>
<td align="left">{"label":"Num Lock", "x":0, "y":0}</td>
</tr>
<tr>
<td align="center">k01</td>
<td align="left">{"label":"/", "x":1, "y":0}</td>
</tr>
<tr>
<td align="center">k02</td>
<td align="left">{"label":"*", "x":2, "y":0}</td>
</tr>
<tr>
<td align="center">k03</td>
<td align="left">{"label":"-", "x":3, "y":0}</td>
</tr>
<tr>
<td align="center">k10</td>
<td align="left">{"label":"7", "x":0, "y":1}</td>
</tr>
<tr>
<td align="center">k11</td>
<td align="left">{"label":"8", "x":1, "y":1}</td>
</tr>
<tr>
<td align="center">k12</td>
<td align="left">{"label":"9", "x":2, "y":1}</td>
</tr>
<tr>
<td align="center">k13</td>
<td align="left">{"label":"+", "x":3, "y":1, "h":2}</td>
</tr>
<tr>
<td align="center">k20</td>
<td align="left">{"label":"4", "x":0, "y":2}</td>
</tr>
<tr>
<td align="center">k21</td>
<td align="left">{"label":"5", "x":1, "y":2}</td>
</tr>
<tr>
<td align="center">k22</td>
<td align="left">{"label":"6", "x":2, "y":2}</td>
</tr>
<tr>
<td align="center">k30</td>
<td align="left">{"label":"1", "x":0, "y":3}</td>
</tr>
<tr>
<td align="center">k31</td>
<td align="left">{"label":"2", "x":1, "y":3}</td>
</tr>
<tr>
<td align="center">k32</td>
<td align="left">{"label":"3", "x":2, "y":3}</td>
</tr>
<tr>
<td align="center">k33</td>
<td align="left">{"label":"Enter", "x":3, "y":3, "h":2}</td>
</tr>
<tr>
<td align="center">k40</td>
<td align="left">{"label":"0", "x":0, "y":4, "w":2}</td>
</tr>
<tr>
<td align="center">k42</td>
<td align="left">{"label":".", "x":2, "y":4}</td>
</tr>
</tbody>
</table>
<p>When a user selects the top-left key in the Configurator, and assigns Num Lock to it, the Configurator builds a keymap file with <code>KC_NLCK</code> as the first key, and so on as the keymap is built. The <code>label</code> keys are not used; they are only for the user's reference in identifying specific keys when debugging the <code>info.json</code> file.</p>
<h2 id="issues-and-hazards">Issues and Hazards<a class="headerlink" href="#issues-and-hazards" title="Permanent link">&para;</a></h2>
<p>Currently, the Configurator does not support key rotation or non-rectangular key shapes like ISO Enter. Additionally, keys that are vertically-offset from their "row" &mdash; the arrow keys on 1800-layouts like the <a href="https://github.com/qmk/qmk_firmware/tree/4ac48a61a66206beaf2fdd5f2939d8bbedd0004c/keyboards/tkc1800/">TKC1800</a> being a prominent example &mdash; confuse the KLE-to-JSON Converter, if not adjusted for by the contributor of the <code>info.json</code> file.</p>
<h3 id="workarounds">Workarounds<a class="headerlink" href="#workarounds" title="Permanent link">&para;</a></h3>
<h4 id="non-rectangular-keys">Non-rectangular keys<a class="headerlink" href="#non-rectangular-keys" title="Permanent link">&para;</a></h4>
<p>For ISO Enter keys, QMK custom is to display it as a rectangular key, 1.25u wide and 2u high, aligned so its right edge is aligned with the right edge of the alphanumeric key block.</p>
<p><img alt="" src="https://i.imgur.com/JKngtTw.png" /><br />
<em>A 60% keyboard in standard ISO layout, as rendered by QMK Configurator.</em></p>
<h4 id="vertically-offset-keys">Vertically-offset keys<a class="headerlink" href="#vertically-offset-keys" title="Permanent link">&para;</a></h4>
<p>For vertically-offset keys, place them in KLE as if they were not offset, then edit the Y-values as needed in the converted JSON file</p>
<p><img alt="" src="https://i.imgur.com/fmDvDzR.png" /><br />
<em>An 1800-layout keyboard as rendered in Keyboard Layout Editor, without the vertical offset applied to the arrow keys.</em></p>
<p><img alt="" src="https://i.imgur.com/8beYMBR.png" /><br />
<em>A Unix diff file, showing the changes needed to vertically-offset the arrow keys in our keyboard's JSON file.</em></p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "navigation.instant", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.709b4209.min.js", "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.febc23d1.min.js"></script>
      
    
  </body>
</html>